function social_curator_grid_post_preloaded(t,a){}function social_curator_grid_post_loaded(t,a){}jQuery(function(t){t(document).ready(function(){function t(){var t=new a(jQuery("[data-social-curator-post-grid]"));t.init()}var o=new SocialCuratorNonce;o.injectNonce(t)});var a=function(a,i){var e=this;e.o={el:a,btn:t("[data-load-more-posts]"),loading:t("[data-social-curator-grid-loading]"),offset:0,numberposts:parseInt(social_curator_grid.perpage),masonry:"true"==social_curator_grid.masonry?!0:!1,columns:social_curator_grid.masonrycolumns?social_curator_grid.masonrycolumns:"two",completetext:social_curator_grid.completetext,footer:t("[data-social-curator-grid-footer]")},e.init=function(){e.o.masonry&&(t(e.o.el).addClass("masonry-grid"),t(e.o.el).addClass(e.o.columns)),e.bindEvents(),e.getPosts()},e.bindEvents=function(){t(e.o.btn).on("click",function(t){t.preventDefault(),e.getPosts()})},e.getPosts=function(){e.loading(!0),t.ajax({url:social_curator.ajaxurl,type:"POST",data:{nonce:social_curator_nonce,action:"social_curator_get_posts",offset:e.o.offset,number:e.o.numberposts},success:function(t){e.o.offset=e.o.offset+e.o.numberposts,e.loadPosts(t.posts)}})},e.loadPosts=function(a){for(var i=0;i<a.length;i++){var r=new o,n=r.format(a[i]);e.o.masonry?e.applyMasonry(n):t(e.o.el).append(n),social_curator_grid_post_loaded(a[i],n)}return a.length<e.o.numberposts?e.noPosts():void e.loading(!1)},e.noPosts=function(){e.loading(!1),t(e.o.btn).remove(),t(e.o.footer).text(e.o.completetext)},e.loading=function(a){return a?(t(e.o.loading).show(),void t(e.o.btn).attr("disabled","disabled").html(social_curator_grid.loading).addClass("loading")):(t(e.o.loading).hide(),void t(e.o.btn).attr("disabled",!1).html(social_curator_grid.loadmore).removeClass("loading"))},e.applyMasonry=function(a){var o=t(e.o.el).masonry({itemSelector:"[data-template]",percentPosition:!0,gutter:".gutter-sizer"});o.imagesLoaded(function(){o.masonry()}),a&&o.append(a).masonry("appended",a)}},o=function(){var a=this;a.template=t("[data-single-post-template]").find("[data-template]"),a.format=function(o){var e=t(a.template).clone();if(t(e).attr("data-post-container-id",o.id),t(e).addClass(o.site),t(e).find("[data-icon-link]").html(o.icon_link),t(e).find("[data-profile-image]").html('<img src="'+o.profile_image_link+'" data-profile-image class="social-curator-profile-image" onerror="this.onerror=null;this.src=\''+social_curator_grid.defaultavatar+"';\">"),t(e).find("[data-profile-link]").attr("href",o.profile_link),t(e).find("[data-profile-name]").text(o.profile_name),t(e).find("[data-date]").text(o.date),t(e).find("[data-post-content]").html(o.content),t(e).find("[data-site]").text(o.site),t(e).find("[data-link]").attr("href",o.link),t(e).find("[data-icon]").attr("class",social_curator_grid.iconprefix+o.site),o.thumbnail){var r='<a href="'+o.link+'"><img src="'+o.thumbnail+'" /></a>';t(e).find("[data-thumbnail]").html(r)}if("1"===social_curator_grid.twitterintents&&"twitter"===o.site){var n=new i;e=n.append(o,e)}return social_curator_grid_post_preloaded(e,o),e}},i=function(){var a=this;a.template=t("[data-twitter-intents-template]").find("[data-single-intent-template]"),a.append=function(o,i){var e=t(a.template).clone().appendTo(i);return t(e).find("[data-intent-retweet]").html('<a href="https://twitter.com/intent/retweet?tweet_id='+o.original_id+'"><i class="'+social_curator_grid.iconprefix+'loop"></i></a>'),t(e).find("[data-intent-favorite]").html('<a href="https://twitter.com/intent/favorite?tweet_id='+o.original_id+'"><i class="'+social_curator_grid.iconprefix+'star-full"></i></a>'),t(e).find("[data-intent-tweet]").html('<a href="https://twitter.com/intent/tweet?in_reply_to='+o.original_id+'"><i class="'+social_curator_grid.iconprefix+'redo2"></i></a>'),i}}});