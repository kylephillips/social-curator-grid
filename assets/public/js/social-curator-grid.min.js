$(document).ready(function(){function t(){var t=new socialCuratorGrid;t.getPosts()}var a=new SocialCuratorNonce;a.injectNonce(t)});var socialCuratorGrid=function(){var t=this;t.el=$("[data-social-curator-post-grid]"),t.btn=$("[data-load-more-posts]"),t.offset=0,t.numberposts=parseInt(social_curator_grid.perpage),t.getPosts=function(){t.loading(!0),$.ajax({url:social_curator.ajaxurl,type:"POST",data:{nonce:social_curator_nonce,action:"social_curator_get_posts",offset:t.offset,number:t.numberposts},success:function(a){return 0==a.posts.length?t.noPosts():(t.offset=t.offset+t.numberposts,void t.loadPosts(a.posts))}})},t.loadPosts=function(a){for(var o=0;o<a.length;o++){var n=new socialCuratorGridPost,i=n.format(a[o]);$(t.el).append(i)}t.loading(!1)},t.noPosts=function(){$(t.btn).remove()},t.loading=function(a){return a?($(t.el).addClass("loading"),void $(t.btn).attr("disabled","disabled").html(social_curator_grid.loading).addClass("loading")):($(t.el).removeClass("loading"),void $(t.btn).attr("disabled",!1).html(social_curator_grid.loadmore).removeClass("loading"))},$(document).on("click","[data-load-more-posts]",function(a){a.preventDefault(),t.getPosts()})},socialCuratorGridPost=function(){var t=this;t.template=$("[data-single-post-template]").find("[data-template]"),t.format=function(a){var o=$(t.template).clone();if($(o).attr("data-post-container-id",a.id),$(o).find("[data-icon-link]").html(a.icon_link),$(o).find("[data-profile-image]").attr("src",a.profile_image_link),$(o).find("[data-profile-link]").attr("href",a.profile_link),$(o).find("[data-profile-name]").text(a.profile_name),$(o).find("[data-date]").text(a.date),$(o).find("[data-post-content]").html(a.content),$(o).find("[data-site]").text(a.site),$(o).find("[data-link]").attr("href",a.link),$(o).find("[data-icon]").attr("class",social_curator_grid.iconprefix+a.site),a.thumbnail){var n='<a href="'+a.link+'"><img src="'+a.thumbnail+'" /></a>';$(o).find("[data-thumbnail]").html(n)}return console.log(o),console.log(a),o}};